{"ast":null,"code":"import _regeneratorRuntime from\"/home/sachin/Desktop/react udemy/pixabay/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sachin/Desktop/react udemy/pixabay/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/sachin/Desktop/react udemy/pixabay/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Formulario from'./components/Formulario';import ListodoImagen from'./components/ListadoImagen';function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),images=_useState4[0],setImages=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),paginaactual=_useState6[0],setPaginaactual=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),totalpaginas=_useState8[0],setTotalpaginas=_useState8[1];useEffect(function(){var consultaApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var imagenesPorPagina,key,url,respuesta,resultado,top;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(search==='')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:imagenesPorPagina=30;key='17968933-8b9fd410c145a9f70c1b97c9f';url=\"https://pixabay.com/api/?key=\".concat(key,\"&q=\").concat(search,\"&per_page=\").concat(imagenesPorPagina,\"&page=\").concat(paginaactual);_context.next=7;return fetch(url);case 7:respuesta=_context.sent;_context.next=10;return respuesta.json();case 10:resultado=_context.sent;setImages(resultado.hits);setTotalpaginas(Math.ceil(resultado.totalHits/imagenesPorPagina));//volver hacia arriba a cargar nueva pagina\ntop=document.querySelector('.jumbotron');top.scrollIntoView({behavior:\"smooth\"});case 15:case\"end\":return _context.stop();}}},_callee);}));return function consultaApi(){return _ref.apply(this,arguments);};}();consultaApi();},[search,paginaactual]);//definir pagina anterior\nvar pagiaAnterior=function pagiaAnterior(){var nuevaPaginaActual=paginaactual-1;if(paginaactual===1)return;setPaginaactual(nuevaPaginaActual);};var paginaSiguente=function paginaSiguente(){var nuevaPaginaActual=paginaactual+1;if(paginaactual===totalpaginas)return;setPaginaactual(nuevaPaginaActual);};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron\"},/*#__PURE__*/React.createElement(\"p\",{className:\"lead text-center \"},\"Search Image\"),/*#__PURE__*/React.createElement(Formulario,{setSearch:setSearch})),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(ListodoImagen,{images:images}),paginaactual!==1?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info mr1\",onClick:pagiaAnterior},\"\\xAB Previous\"):null,paginaactual!==totalpaginas?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info\",onClick:paginaSiguente},\"Next \\xBB\"):null));}export default App;","map":{"version":3,"sources":["/home/sachin/Desktop/react udemy/pixabay/src/App.js"],"names":["React","useState","useEffect","Formulario","ListodoImagen","App","search","setSearch","images","setImages","paginaactual","setPaginaactual","totalpaginas","setTotalpaginas","consultaApi","imagenesPorPagina","key","url","fetch","respuesta","json","resultado","hits","Math","ceil","totalHits","top","document","querySelector","scrollIntoView","behavior","pagiaAnterior","nuevaPaginaActual","paginaSiguente"],"mappings":"8WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CAGA,QAASC,CAAAA,GAAT,EAAe,eAEcJ,QAAQ,CAAC,EAAD,CAFtB,wCAEPK,MAFO,eAECC,SAFD,8BAGcN,QAAQ,CAAC,EAAD,CAHtB,yCAGPO,MAHO,eAGCC,SAHD,8BAI0BR,QAAQ,CAAC,CAAD,CAJlC,yCAIPS,YAJO,eAIOC,eAJP,8BAK0BV,QAAQ,CAAC,CAAD,CALlC,yCAKPW,YALO,eAKOC,eALP,eAObX,SAAS,CAAC,UAAI,CACZ,GAAMY,CAAAA,WAAW,0FAAG,8LACfR,MAAM,GAAK,EADI,kEAGZS,iBAHY,CAGQ,EAHR,CAIZC,GAJY,CAIN,oCAJM,CAKZC,GALY,wCAK0BD,GAL1B,eAKmCV,MALnC,sBAKsDS,iBALtD,kBAKgFL,YALhF,wBAOMQ,CAAAA,KAAK,CAACD,GAAD,CAPX,QAOZE,SAPY,sCAQMA,CAAAA,SAAS,CAACC,IAAV,EARN,SAQZC,SARY,eASlBZ,SAAS,CAACY,SAAS,CAACC,IAAX,CAAT,CAEAT,eAAe,CAACU,IAAI,CAACC,IAAL,CAAUH,SAAS,CAACI,SAAV,CAAsBV,iBAAhC,CAAD,CAAf,CAEA;AACMW,GAdY,CAcNC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAdM,CAelBF,GAAG,CAACG,cAAJ,CAAmB,CAACC,QAAQ,CAAC,QAAV,CAAnB,EAfkB,uDAAH,kBAAXhB,CAAAA,WAAW,0CAAjB,CAiBAA,WAAW,GACZ,CAnBQ,CAmBP,CAACR,MAAD,CAASI,YAAT,CAnBO,CAAT,CAqBA;AAEA,GAAMqB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAE1B,GAAMC,CAAAA,iBAAiB,CAAGtB,YAAY,CAAG,CAAzC,CACA,GAAIA,YAAY,GAAK,CAArB,CAAwB,OACxBC,eAAe,CAACqB,iBAAD,CAAf,CAED,CAND,CAOA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAE3B,GAAMD,CAAAA,iBAAiB,CAAGtB,YAAY,CAAG,CAAzC,CACA,GAAIA,YAAY,GAAKE,YAArB,CAAmC,OACnCD,eAAe,CAACqB,iBAAD,CAAf,CAED,CAND,CAQA,mBAEE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,yBAAG,SAAS,CAAC,mBAAb,iBADF,cAEG,oBAAC,UAAD,EACC,SAAS,CAAEzB,SADZ,EAFH,CADF,cAOE,2BAAK,SAAS,CAAC,4BAAf,eACG,oBAAC,aAAD,EACC,MAAM,CAAIC,MADX,EADH,CAIKE,YAAY,GAAK,CAAlB,cACD,8BACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,kBAFX,CAGC,OAAO,CAAEqB,aAHV,kBADC,CAMD,IAVH,CAYKrB,YAAY,GAAKE,YAAlB,cACF,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,OAAO,CAAEqB,cAHX,cADE,CAMD,IAlBH,CAPF,CAFF,CAkCD,CAED,cAAe5B,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport Formulario from './components/Formulario'\nimport ListodoImagen from './components/ListadoImagen'\n\n\nfunction App() {\n\n  const[search, setSearch] = useState(\"\")\n  const[images, setImages] = useState([])\n  const[paginaactual, setPaginaactual] = useState(1)\n  const[totalpaginas, setTotalpaginas] = useState(1)\n\n  useEffect(()=>{\n    const consultaApi = async () =>{\n      if(search === '') return\n    \n      const imagenesPorPagina = 30;\n      const key = '17968933-8b9fd410c145a9f70c1b97c9f'\n      const url = `https://pixabay.com/api/?key=${key}&q=${search}&per_page=${imagenesPorPagina}&page=${paginaactual}`\n      \n      const respuesta = await fetch(url)\n      const resultado = await respuesta.json()\n      setImages(resultado.hits)\n\n      setTotalpaginas(Math.ceil(resultado.totalHits / imagenesPorPagina))\n      \n      //volver hacia arriba a cargar nueva pagina\n      const top = document.querySelector('.jumbotron')\n      top.scrollIntoView({behavior:\"smooth\"})\n    }\n    consultaApi()\n  },[search, paginaactual])\n\n  //definir pagina anterior\n\n  const pagiaAnterior = () => {\n\n    const nuevaPaginaActual = paginaactual - 1\n    if (paginaactual === 1) return\n    setPaginaactual(nuevaPaginaActual)\n   \n  }\n  const paginaSiguente = () => {\n\n    const nuevaPaginaActual = paginaactual + 1\n    if (paginaactual === totalpaginas) return\n    setPaginaactual(nuevaPaginaActual)\n    \n  }\n\n  return (\n    \n    <div className=\"container\">\n      <div className=\"jumbotron\">\n        <p className=\"lead text-center \">Search Image</p>\n         <Formulario\n          setSearch={setSearch}\n         />\n      </div>\n      <div className=\"row justify-content-center\">\n         <ListodoImagen\n          images = {images}\n         />\n         {(paginaactual !== 1)?\n         <button\n          type=\"button\"\n          className=\"btn btn-info mr1\"\n          onClick={pagiaAnterior}\n        >&laquo; Previous</button>\n        :null\n         }\n         {(paginaactual !== totalpaginas)?\n        <button\n          type=\"button\"\n          className=\"btn btn-info\"\n          onClick={paginaSiguente}\n        >Next &raquo;</button>\n        :null\n         }\n      </div>\n    </div>\n\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}